tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
#M[,4] <- 1
#M13 <- M[,1:3]
tmp <- apply(M^2,1,sum)
M <- M/sqrt(tmp)
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,0)
M[2,] <- c(0,1,0,0)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
apply(M^2,1,sum)
n <- 6
k <- 3
MM <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 0
M13 <- M[,1:3]
tmp <- apply(M13^2,1,sum)
M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(0,0,0,1)
M[2,] <- c(0,0,0,-1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
M
n <- 6
k <- 3
MM <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 0
M13 <- M[,1:3]
tmp <- apply(M13^2,1,sum)
M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,0)
M[2,] <- c(0,1,0,0)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
n <- 6
k <- 3
MM <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 0
M13 <- M[,1:3]
tmp <- apply(M13^2,1,sum)
M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,0)
M[2,] <- c(0,0,0,1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
sq.mat
M
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
#M[,4] <- 1
#M13 <- M[,1:3]
tmp <- apply(M^2,1,sum)
M <- M/sqrt(tmp)
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,0)
M[2,] <- c(0,1,0,0)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
#M[,4] <- 1
#M13 <- M[,1:3]
tmp <- apply(M^2,1,sum)
M <- M/sqrt(tmp)
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,0)
M[2,] <- c(0,0,0,1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
#M[,4] <- 1
#M13 <- M[,1:3]
tmp <- apply(M^2,1,sum)
M <- M/sqrt(tmp)
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,0)
M[2,] <- c(0,1,0,0)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 1
M13 <- M[,1:3]
tmp <- apply(M13^2,1,sum)
M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,1)
M[2,] <- c(0,1,0,1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
apply(M^2,1,sum)
M
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 1
M[,3] <- 1
#M13 <- M[,1:3]
#tmp <- apply(M13^2,1,sum)
#M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(0,0,1,1)
M[2,] <- c(1,0,0,1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
M
sq.mat[[1]]
det(sq.mat[[1]][[1]])
det(sq.mat[[1]][[2]])
det(sq.mat[[1]][[1]][2:3,1:2])
det(sq.mat[[2]][[1]][2:3,1:2])
det(sq.mat[[2]][[1]])
det(sq.mat[[3]][[1]][2:3,1:2])
det(sq.mat[[3]][[1]])
det(sq.mat[[4]][[1]][2:3,1:2])
det(sq.mat[[4]][[1]])
X <- rnorm(9,3,3)
X <- X/sqrt(apply(X^2,1,sum))
X <- X/sqrt(apply(X^2,1,sum))
X <- matrix(rnorm(9),3,3)
X <- X/sqrt(apply(X^2,1,sum))
X
Xt <- t(X)
Xt
det(Xt)
sqrt(sum((X[,1]-X[,2])^2))
sqrt(sum((X[,2]-X[,3])^2))
sqrt(sum((X[,3]-X[,1])^2))
sqrt(sum((X[,1]-X[,2])^2)) -> A
sqrt(sum((X[,2]-X[,3])^2)) -> B
sqrt(sum((X[,3]-X[,1])^2)) -> C
A*B*C
det(sq.mat[[1]][[2]]) * det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) * det(sq.mat[[4]][[2]])
det(sq.mat[[1]][[2]])
det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]])
det(sq.mat[[4]][[2]])
det(sq.mat[[1]][[2]]) + det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) + det(sq.mat[[4]][[2]])
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 1
M13 <- M[,1:3]
tmp <- apply(M13^2,1,sum)
M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,1)
M[2,] <- c(0,1,0,1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
det(sq.mat[[1]][[2]]) + det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) + det(sq.mat[[4]][[2]])
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 1
M[,3] <- 1
#M13 <- M[,1:3]
#tmp <- apply(M13^2,1,sum)
#M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(0,0,1,1)
M[2,] <- c(1,0,0,1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
det(sq.mat[[1]][[2]]) + det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) + det(sq.mat[[4]][[2]])
n <- 6
k <- 3
M <- matrix(rnorm(n*(k+1)),ncol=k+1)
M[,4] <- 1
M13 <- M[,1:3]
tmp <- apply(M13^2,1,sum)
M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
M[1,] <- c(1,0,0,1)
M[2,] <- c(0,1,0,1)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
det(sq.mat[[1]][[2]]) + det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) + det(sq.mat[[4]][[2]])
n <- 6
k <- 3
#M <- matrix(rnorm(n*(k+1)),ncol=k+1)
#M[,4] <- 1
#M13 <- M[,1:3]
#tmp <- apply(M13^2,1,sum)
#M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
#M[1,] <- c(1,0,0,1)
#M[2,] <- c(0,1,0,1)
M[1,] <- rnorm(4)
M[2,] <- rnorm(4)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
det(sq.mat[[1]][[2]]) + det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) + det(sq.mat[[4]][[2]])
n <- 6
k <- 3
#M <- matrix(rnorm(n*(k+1)),ncol=k+1)
#M[,4] <- 1
#M13 <- M[,1:3]
#tmp <- apply(M13^2,1,sum)
#M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
#M[1,] <- c(1,0,0,1)
#M[2,] <- c(0,1,0,1)
M[1,] <- rnorm(4)
M[2,] <- rnorm(4)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
det(sq.mat[[1]][[2]]) + det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) + det(sq.mat[[4]][[2]])
det(sq.mat[[1]][[1]])/det(sq.mat[[2]][[1]])
det(sq.mat[[3]][[1]])/det(sq.mat[[2]][[1]])
det(sq.mat[[4]][[1]])/det(sq.mat[[2]][[1]])
n <- 6
k <- 3
#M <- matrix(rnorm(n*(k+1)),ncol=k+1)
#M[,4] <- 1
#M13 <- M[,1:3]
#tmp <- apply(M13^2,1,sum)
#M <- cbind(M13/sqrt(tmp),M[,4])
#M[,2] <- -M[,1]
#M[1,] <- c(1,0,0,1)
#M[2,] <- c(0,1,0,1)
M[1,] <- rnorm(4)
M[2,] <- rnorm(4)
I <- c(1,2)
J <- c(3,4,5,6)
s <- sample(1:n,k)
sq.mat <- list()
ret <- 0
for(i in 1:length(J)){
sq.mat[[i]] <- list()
tmp <- J[-i]
j <- J[i]
tmp2 <- c(I,j)
mat1 <- M[tmp2,1:k]
mat2 <- M[tmp,1:k]
sq.mat[[i]][[1]] <- mat1
sq.mat[[i]][[2]] <- mat2
tmp3 <- (-1)^i * det(mat1) * det(mat2)
ret <- ret + tmp3
}
print(ret)
sapply(sq.mat,function(x){sapply(x,det)})
det(sq.mat[[1]][[2]]) + det(sq.mat[[3]][[2]])
det(sq.mat[[2]][[2]]) + det(sq.mat[[4]][[2]])
det(sq.mat[[1]][[1]])/det(sq.mat[[2]][[1]])
det(sq.mat[[3]][[1]])/det(sq.mat[[2]][[1]])
det(sq.mat[[4]][[1]])/det(sq.mat[[2]][[1]])
sapply(sq.mat,function(x){sapply(x,det)}) -> ssss
ssss[1,]
ssss[2,]
ssss[1,] * c(1,-1,1,-1) * ssss[2,]
sum(ssss[1,] * c(1,-1,1,-1) * ssss[2,])
