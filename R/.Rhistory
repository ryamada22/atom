n <- length(out$Xs[,1])
for(i in 1:n){
this.X <- out$Xs[i,]
this.Z <- out$Zs[i,]
my.plot.shuttlecock.q(Q=1+0*Hi,S=this.X,Z=this.Z)
}
}
my.plot.sim(out1,court=FALSE)
my.plot.sim(out1,court=FALSE)
# 微小時間
dt <- 0.005
# シミュレーション実施最大時間
max.time <- 3
# Z軸座標がend.zに到達したら、終了
end.z <- 0
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-0))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0,-0.01))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.3,0.2))
# 与える力
f0 <- 11000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-0.2))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.4,-0.1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.3,0.5))
# 与える力
f0 <- 11000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-0.2))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.4,-0.1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.3,1))
# 与える力
f0 <- 11000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.4,0.1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.3,1))
# 与える力
f0 <- 11000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-10,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,-30)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,0))
# 与える力
f0 <- 11000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-10,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,-30)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,0)) + (-2) * V0
# 与える力
f0 <- 11000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-10,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,-30)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,10))
# 与える力
f0 <- 11000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-10,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,5))
# 与える力
f0 <- 11000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-10,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,5))
# 与える力
f0 <- 11000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-10,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,5))
# 与える力
f0 <- 110
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-10,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,5))
# 与える力
f0 <- 1100
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,140)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0,5))
# 与える力
f0 <- 1100
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,140)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(2,0,5))
# 与える力
f0 <- 1100
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,140)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(2,0,5))
# 与える力
f0 <- 3100
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,140)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(20,0,5))
# 与える力
f0 <- 20000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,140)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(20,0,5))
# 与える力
f0 <- 10000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,40)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(20,0,5))
# 与える力
f0 <- 10000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,55)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.1,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(25,0,5))
# 与える力
f0 <- 10000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,55)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.2,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(25,0,5))
# 与える力
f0 <- 13000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,55)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.2,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(25,0,5))
# 与える力
f0 <- 8000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-20,0,65)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(0,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(0.2,0,1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(25,0,5))
# 与える力
f0 <- 9000
out2 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 微小時間
dt <- 0.05
# シミュレーション実施最大時間
max.time <- 3
# Z軸座標がend.zに到達したら、終了
end.z <- 0
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.4,0.1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.3,1))
# 与える力
f0 <- 11000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.4,0.1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.3,1))
# 与える力
f0 <- 14000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.5))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,1))
# 与える力
f0 <- 14000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 重力加速度（環境加速度)
g <- c(0,0,-9.8)*100  # 9.8m/s^2, 980cm/s^2
# 質量の係数
m <- 5 # 単位はgram
# 抵抗係数
v.const <- 400 # 自由落下のときの定常速度 cm/s
sigma.v <- -g[3]*m/(v.const^2)
# 回転加速度係数
sigma.q <- sigma.v * m
# 軸収束係数
sigma.a <- sigma.v * m *0.5
# 微小時間
dt <- 0.05
# シミュレーション実施最大時間
max.time <- 3
# Z軸座標がend.zに到達したら、終了
end.z <- 0
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.5))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,1))
# 与える力
f0 <- 14000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.5))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,1))
# 与える力
f0 <- 40000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.5))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,1))
# 与える力
f0 <- 20000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
X0
matplot(out1$Zs,type="l")
# 微小時間
dt <- 0.005
# シミュレーション実施最大時間
max.time <- 3
# Z軸座標がend.zに到達したら、終了
end.z <- 0
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.5))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,1))
# 与える力
f0 <- 20000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.5))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,1))
# 与える力
f0 <- 14000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,0.2))
# 与える力
f0 <- 14000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
# 打つ前のシャトルの位置
X0 <- c(-200,0,115)
# 打つ前のシャトルの軸
Z0 <- my.unit.vec(c(-1,0,-1))
# 打つ前のシャトルの重心速度ベクトル
V0 <- c(0,0,0)
# 打つ前のシャトルの回転運動クオータニオン
Q0 <- 1 + 0 * Hi
# ラケットの法線単位ベクトル
P0 <- my.unit.vec(c(1,0.0,0.1))
# 力ベクトルの法線ベクトル
F0 <- my.unit.vec(c(1,0.0,0.2))
# 与える力
f0 <- 12000
out1 <- my.hit.sim(P0=P0,F0=F0,f0=f0,X0=X0,Z0=Z0,V0=V0,Q0=Q0,dt=dt,max.time=max.time,end.z=end.z,sigma.q=sigma.q,sigma.a=sigma.a,g=g,m=m,v.const=v.const)
